# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –¥–ª—è MCP Tools

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞

### –ü—Ä–æ–±–ª–µ–º–∞
MCP tools –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª–∏ —Ñ–∞–π–ª—ã, –ø–æ—Ç–æ–º—É —á—Ç–æ `context_files` –±—ã–ª –ø—É—Å—Ç—ã–º. Tools –∏—Å–∫–∞–ª–∏ —Ç–æ–ª—å–∫–æ –≤ `self.context_files`, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –ø—É—Å—Ç.

### –†–µ—à–µ–Ω–∏–µ

1. **–î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_get_files_for_search()`** –≤ `LoCoBenchMCPServer`:
   - –ï—Å–ª–∏ `context_files` –ø—É—Å—Ç–æ–π, –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ `project_dir`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `_collect_project_code_files` –∏–∑ `retrieval.py`

2. **–û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ handlers**:
   - –í—Å–µ handlers —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç `self._get_files_for_search()` –≤–º–µ—Å—Ç–æ `self.context_files`
   - –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç tools –Ω–∞—Ö–æ–¥–∏—Ç—å —Ñ–∞–π–ª—ã –¥–∞–∂–µ –∫–æ–≥–¥–∞ `context_files` –ø—É—Å—Ç–æ–π

3. **–û–±–Ω–æ–≤–ª–µ–Ω `format_selected_context()`**:
   - –¢–µ–ø–µ—Ä—å —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `_get_files_for_search()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–æ–≤

4. **–û–±–Ω–æ–≤–ª–µ–Ω `mcp_heuristics.py`**:
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ `project_dir` –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º MCP server, –µ—Å–ª–∏ `context_files` –ø—É—Å—Ç–æ–π

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ—Ü–µ—Å—Å:

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ `context_files`**:
   - –ï—Å–ª–∏ –Ω–µ –ø—É—Å—Ç–æ–π ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å
   - –ï—Å–ª–∏ –ø—É—Å—Ç–æ–π ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –∫ —à–∞–≥—É 2

2. **–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ `project_dir`**:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `_collect_project_code_files(project_dir)`
   - –§–∞–π–ª—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ `_cached_project_files`
   - –í–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è tools

3. **Tools –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:
   - –í—Å–µ handlers –≤—ã–∑—ã–≤–∞—é—Ç `self._get_files_for_search()`
   - –ü–æ–ª—É—á–∞—é—Ç –ª–∏–±–æ `context_files`, –ª–∏–±–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∑ `project_dir`

## ‚úÖ –¢–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å

MCP tools —Ç–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å —Ñ–∞–π–ª—ã –¥–∞–∂–µ –∫–æ–≥–¥–∞ `context_files` –ø—É—Å—Ç–æ–π, –∑–∞–≥—Ä—É–∂–∞—è –∏—Ö –∏–∑ `project_dir`.

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞:

```bash
python -m locobench.cli evaluate \
    --model "DeepSeekR1-70B-LRI" \
    --config-path config.yaml
```

–í –ª–æ–≥–∞—Ö –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
INFO: üìÅ Loading files from project directory: ...
INFO: ‚úÖ Loaded X files from project directory
INFO: ‚úÖ Tool 'find_security_sensitive_files': found X files
```
